{
 "add_total_row": 1,
 "columns": [],
 "creation": "2020-11-24 08:30:24.598098",
 "disable_prepared_report": 0,
 "disabled": 0,
 "docstatus": 0,
 "doctype": "Report",
 "filters": [],
 "idx": 0,
 "is_standard": "Yes",
 "modified": "2021-11-08 17:04:30.201057",
 "modified_by": "Administrator",
 "module": "Gv",
 "name": "Staff Sales",
 "owner": "Administrator",
 "prepared_report": 0,
 "query": "select \nsi.posting_date as \u201cDate:date:100\u201d,\nsi.name as \u201cInvoice Reference:Link/Sales Invoice:100\",\nsit.booking_no as \u201cBooking#:Data:100\u201d,\nsit.traveler_name_cf as \u201cTraveler Name:Data:100\",\nsi.contact_mobile as \u201cPhone:Data:80\u201d,\nsit.from_cf as \u201cFrom:Data:100\",\nsit.to_cf as \u201cTo:Data:100\u201d,\nsit.travel_date_cf as \u201cTravelDate:date:100\",\nsit.return_date_cf as \u201cReturnDate:date:100\u201d,\nsit.airline_cf as \u201cAirline:Data:120\",\nsit.city_cf as \u201cCity:Data:100\u201d,\nsit.hotel_cf as \u201cHotel:Data:120\",\nsit.supplier as \u201cSupplier:Link/Supplier:120\u201d,\nsit.confirmation_number_cf as \u201cConfirmation Number:Data:100\",\nsit.reservation_policy_cf as \u201cReservation Policy:Data:100\u201d,\n-- coalesce(sip.mode_of_payment, pe.mode_of_payment) as \u201cPayment:Data:100\",\nsit.base_net_amount as \u201cSelling Price:Currency:100\u201d,\nsit.commission_cf as \u201cCommission:Currency:100\",\nsit.tour_amount_cf as \u201cTourCode:Currency:100\u201d,\nsit.cost_amount_cf as \u201cPurchase Rate:Currency:100\",\nsit.base_net_amount - sit.cost_amount_cf as \u201cProfit:Currency:100\u201d,\n(sit.base_net_amount - sit.cost_amount_cf)*100 / sit.base_net_amount as \u201cProfit Percent:Percent:80\",\nsi.sales_partner as \u201cSales Partner:Link/Sales Partner:120\u201d,\nsi.commission_rate * (sit.base_net_amount - sit.cost_amount_cf )/100 as \u201cSalesCommission:Currency:100\"\nfrom `tabSales Invoice`as si \ninner join `tabSales Invoice Item` as sit on si.name = sit.parent and si.docstatus = 1\nand sit.booking_no is not null\nwhere si.posting_date >= %(from_date)s and si.posting_date <= %(to_date)s\norder by si.posting_date desc, sit.booking_no, si.is_return",
 "ref_doctype": "Sales Invoice",
 "report_name": "Staff Sales",
 "report_type": "Query Report",
 "roles": [
  {
   "role": "Accounts Manager"
  },
  {
   "role": "Accounts User"
  }
 ]
}